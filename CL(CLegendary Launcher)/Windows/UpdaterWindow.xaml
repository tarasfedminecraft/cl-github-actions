<ui:FluentWindow x:Class="CL_CLegendary_Launcher_.UpdaterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        mc:Ignorable="d"
        Title="Оновлення CL Launcher" 
        Height="450" Width="600" 
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
     Icon="/Icon/IconCL(Common).png"    ExtendsContentIntoTitleBar="True"
    WindowBackdropType="Mica">

    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="/Assets/LightThemBG.webp"/>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="1" Margin="10,20,10,20" Opacity="0.95">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="20"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <Border BorderThickness="1" Grid.ColumnSpan="2" Background="{DynamicResource MainBackgroundBrush}" CornerRadius="16"/>

            <Image Height="200" VerticalAlignment="Top" Margin="10,20,10,0"
                   RenderOptions.BitmapScalingMode="HighQuality"/>

            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10">

                <TextBlock Text="Доступна нова версія!" FontSize="24" FontWeight="Bold" Margin="0,0,0,5"
                           FontFamily="Inter" Foreground="{DynamicResource MainForegroundBrush}"/>

                <TextBlock x:Name="VersionText" Text="Перевірка..." FontSize="16" Margin="0,0,0,20" 
                           Foreground="{DynamicResource MainForegroundBrush}" FontFamily="Inter" Opacity="0.8"/>

                <StackPanel x:Name="PathSelectionPanel" Margin="0,0,0,15" Visibility="Collapsed">
                    <TextBlock Text="Шлях встановлення:" FontSize="14" Margin="0,0,0,5" Foreground="{DynamicResource MainForegroundBrush}"/>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="PathTextBox" IsReadOnly="True" Height="35" VerticalContentAlignment="Center" Background="{DynamicResource MainBackgroundBrushServer}" Foreground="{DynamicResource MainForegroundBrush}" SelectionBrush="{x:Null}" SelectionTextBrush="{x:Null}" BorderBrush="{x:Null}" FontFamily="Inter 18pt 18pt"/>
                        <ui:Button Grid.Column="1" Content="..." Width="40" Height="35" Margin="5,0,0,0" Click="SelectPath_Click" Background="{DynamicResource MainBackgroundButton}" BorderBrush="{x:Null}" Foreground="{DynamicResource MainForegroundBrush}" Appearance="Secondary"/>
                    </Grid>
                </StackPanel>

                <ui:Card Foreground="{DynamicResource MainForegroundBrush}" Margin="0,0,0,15">
                    <StackPanel>
                        <Grid Margin="0,0,0,5">
                            <TextBlock x:Name="StatusText" Text="Ініціалізація..." HorizontalAlignment="Left" FontFamily="Inter" Foreground="{DynamicResource MainForegroundBrush}"/>
                            <TextBlock x:Name="SizeText" Text="" HorizontalAlignment="Right" Opacity="0.7" Foreground="{DynamicResource MainForegroundBrush}"/>
                        </Grid>
                        <ProgressBar x:Name="ProgreesBarDowload" Height="6" Value="0" Maximum="100" Foreground="{DynamicResource MainBackgroundProgressBar}" BorderBrush="{x:Null}" Background="{DynamicResource MainBackgroundBrushServer}"/>
                    </StackPanel>
                </ui:Card>

                <ui:Button x:Name="BtnUpdate" Content="Завантажити та Встановити" Icon="ArrowDownload24" 
                           Appearance="Secondary" HorizontalAlignment="Stretch" Height="40" 
                           Visibility="Collapsed" Click="BtnUpdate_Click" Background="{DynamicResource MainBackgroundButton}" BorderBrush="{x:Null}" Foreground="{DynamicResource MainForegroundBrush}"/>

            </StackPanel>
        </Grid>
    </Grid>
</ui:FluentWindow>