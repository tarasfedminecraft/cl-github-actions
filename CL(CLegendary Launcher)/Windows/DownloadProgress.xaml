<Window x:Name="MainWindow" x:Class="CL_CLegendary_Launcher_.Windows.DowloadProgress"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CL_CLegendary_Launcher_"
        mc:Ignorable="d"
        Title="Download Progress" Height="300" Width="600" 
        Background="Transparent" 
        AllowsTransparency="True"
        ResizeMode="NoResize" 
        WindowStartupLocation="CenterScreen" 
        WindowStyle="None" 
        FontFamily="Inter">

    <Window.Resources>
        <Style TargetType="ProgressBar">
            <Setter Property="Height" Value="10"/>
            <Setter Property="Background" Value="{DynamicResource MainBackgroundBrushServer}"/>
            <Setter Property="Foreground" Value="{DynamicResource MainBackgroundProgressBar}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Grid>
                            <Border Name="PART_Track" CornerRadius="5" Background="{TemplateBinding Background}"/>
                            <Border Name="PART_Indicator" CornerRadius="5" HorizontalAlignment="Left" Background="{TemplateBinding Foreground}"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border Background="{DynamicResource MainBackgroundBrush}" 
            CornerRadius="12" 
            BorderBrush="#33FFFFFF" 
            BorderThickness="1"
            Margin="10">
        <Border.Effect>
            <DropShadowEffect BlurRadius="15" Direction="-90" RenderingBias="Quality" ShadowDepth="2" Opacity="0.3"/>
        </Border.Effect>

        <Grid x:Name="MainGird" Margin="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="35"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Border x:Name="BorderTool" Background="Transparent" MouseDown="BorderTool_MouseDown"/>

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" IsHitTestVisible="False">
                    <TextBlock x:Name="NameWin" Text="Менеджер завантаження" Foreground="{DynamicResource MainForegroundBrush}" FontWeight="SemiBold" FontSize="12"/>
                </StackPanel>

                <Border x:Name="BordrExitTXT" Width="30" Height="30" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,5,5,0" CornerRadius="5" Cursor="Hand" MouseDown="ExitLauncher_MouseDown">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Setter Property="Background" Value="Transparent"/>
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#C42B1C"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>
                    <TextBlock Text="✕" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{DynamicResource MainForegroundBrush}" FontSize="12"/>
                </Border>
            </Grid>

            <StackPanel Grid.Row="1" VerticalAlignment="Center" Margin="25,0">
                <Grid Margin="0,0,0,5">
                    <TextBlock x:Name="FileTXTName" Text="Перевірка файлів..." FontWeight="Bold" Foreground="{DynamicResource MainForegroundBrush}" FontSize="14" TextTrimming="CharacterEllipsis"/>
                    <TextBlock x:Name="ProgressFileDowloadTXT" Text="0%" HorizontalAlignment="Right" Foreground="{DynamicResource MainForegroundBrush}" Opacity="0.7"/>
                </Grid>

                <ProgressBar x:Name="ProgressDowloadFile" Value="0" Height="8"/>

                <TextBlock x:Name="FileTXT" Text="Підготовка..." FontSize="11" Foreground="{DynamicResource MainForegroundBrush}" Opacity="0.6" Margin="0,5,0,0"/>
            </StackPanel>

            <StackPanel Grid.Row="2" VerticalAlignment="Center" Margin="25,0">
                <Grid Margin="0,0,0,5">
                    <TextBlock x:Name="VersionTXT" Text="Загальний прогрес" Foreground="{DynamicResource MainForegroundBrush}" FontSize="13"/>
                    <TextBlock x:Name="ProgressDowloadTXT" Text="0%" HorizontalAlignment="Right" Foreground="{DynamicResource MainForegroundBrush}" FontWeight="Bold"/>
                </Grid>

                <ProgressBar x:Name="ProgressDowloadVersion" Value="0" Height="12"/>
            </StackPanel>

            <Grid Grid.Row="3" VerticalAlignment="Center">
                <Border x:Name="StopDownload" 
                        Height="36" 
                        CornerRadius="18" 
                        Background="{DynamicResource MainBackgroundBrushServer}" 
                        BorderBrush="#33FFFFFF" BorderThickness="1"
                        Cursor="Hand" 
                        MouseDown="StopDownload_PreviewMouseDown" Margin="24,0,19,0">
                    <Border.Style>
                        <Style TargetType="Border">
                            <Style.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#22FFFFFF"/>
                                </Trigger>
                                <Trigger Property="IsMouseOver" Value="False">
                                    <Setter Property="Background" Value="{DynamicResource MainBackgroundBrushServer}"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </Border.Style>

                    <TextBlock x:Name="DowloadTXT" Text="Скасувати" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="{DynamicResource MainForegroundBrush}" FontWeight="SemiBold"/>
                </Border>
            </Grid>

        </Grid>
    </Border>
</Window>